hmLoadTopic({
hmKeywords:"",
hmTitle:"Add a User Control",
hmPrevLink:"create-fsharp-wpf-code-behind-app.html",
hmNextLink:"window-icon.html",
hmParentLink:"fsharp-wpf-code-behind-application.html",
hmBreadCrumbs:"<a href=\"fsharp-wpf-code-behind-application.html\">F# WPF Code Behind Application<\/a>",
hmTitlePath:"F# WPF Code Behind Application > Add a User Control",
hmHeader:"<h1 class=\"p_Heading1\" style=\"page-break-after: avoid;\"><span class=\"f_Heading1\">Add a User Control<\/span><\/h1>\n\r",
hmBody:"<p class=\"p_Normal\">Add these two files in this order above the files for the main window.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><span style=\"font-weight: bold;\">MyControl.xaml<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<div style=\"text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;\"><table style=\"background-color:#f8f8f8; border:solid thin #c0c0c0; border-spacing:0px;\">\n\r<tr style=\"text-align:left;vertical-align:top;\">\n\r<td style=\"vertical-align:top; padding:0.4375rem; border:none\"><p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">&lt;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #a31515;\">UserControl<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> xmlns<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;http:\/\/schemas.microsoft.com\/winfx\/2006\/xaml\/presentation&quot;<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> xmlns<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">:<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\">x<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;http:\/\/schemas.microsoft.com\/winfx\/2006\/xaml&quot;<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> xmlns<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">:<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\">mc<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;http:\/\/schemas.openxmlformats.org\/markup-compatibility\/2006&quot;<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> xmlns<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">:<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\">d<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;http:\/\/schemas.microsoft.com\/expression\/blend\/2008&quot;<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> mc<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">:<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\">Ignorable<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;d&quot;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Height<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;50&quot;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Width<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;150&quot;&gt;<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">&lt;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #a31515;\">Canvas<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Background<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;LightGreen&quot;&gt;<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp; &nbsp; &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">&lt;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #a31515;\">Button<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Name<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;btnMyTest&quot;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Content<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;My Test&quot;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Canvas.Left<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;10&quot;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Canvas.Top<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;10&quot;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Height<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;28&quot;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Width<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;106&quot;\/&gt;<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">&lt;\/<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #a31515;\">Canvas<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">&gt;<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">&lt;\/<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #a31515;\">UserControl<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">&gt;<\/span><\/p>\n\r<\/td>\n\r<\/tr>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><span style=\"font-weight: bold;\">MyControl.fs<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<div style=\"text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;\"><table style=\"background-color:#f8f8f8; border:solid thin #c0c0c0; border-spacing:0px;\">\n\r<tr style=\"text-align:left;vertical-align:top;\">\n\r<td style=\"vertical-align:top; padding:0.4375rem; border:none\"><p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">namespace<\/span><span style=\"font-size: 0.82rem; font-family: Consolas;\"> First<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">type<\/span><span style=\"font-size: 0.82rem; font-family: Consolas;\"> MyControlXaml = FsXaml.XAML&lt;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #a31515;\">&quot;MyControl.xaml&quot;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas;\">&gt;<\/span><\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">type<\/span><span style=\"font-size: 0.82rem; font-family: Consolas;\"> MyControl() =<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">inherit<\/span><span style=\"font-size: 0.82rem; font-family: Consolas;\"> MyControlXaml()<\/span><\/p>\n\r<\/td>\n\r<\/tr>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The <span style=\"font-weight: bold;\">Build Action<\/span> for MyControl.xaml must be set to <span style=\"font-style: italic;\">Resource<\/span>.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">In file MainWindow.xaml.fs, in the class for <span style=\"font-weight: bold;\">MainWindow<\/span>, add this line<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<div style=\"text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;\"><table style=\"background-color:#f8f8f8; border:solid thin #c0c0c0; border-spacing:0px;\">\n\r<tr style=\"text-align:left;vertical-align:top;\">\n\r<td style=\"vertical-align:top; padding:0.4375rem; border:none\"><p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\"> &nbsp; &nbsp;let<\/span><span style=\"font-size: 0.82rem; font-family: Consolas;\"> myControl = MyControl()<\/span><\/p>\n\r<\/td>\n\r<\/tr>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">and add these two lines in the do-section of the main window class.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<div style=\"text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;\"><table style=\"background-color:#f8f8f8; border:solid thin #c0c0c0; border-spacing:0px;\">\n\r<tr style=\"text-align:left;vertical-align:top;\">\n\r<td style=\"vertical-align:top; padding:0.4375rem; border:none\"><p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp; &nbsp; &nbsp; &nbsp;this.mainCanvas.Children.Add myControl |&gt; ignore<\/span><\/p>\n\r<p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp; &nbsp; &nbsp; &nbsp;myControl.btnMyTest.Content <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">&lt;-<\/span><span style=\"font-size: 0.82rem; font-family: Consolas;\"> <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #a31515;\">&quot;We\'re in business!&quot;<\/span><\/p>\n\r<\/td>\n\r<\/tr>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">and give the canvas in MainWindow a name, like this.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<div style=\"text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;\"><table style=\"background-color:#f8f8f8; border:solid thin #c0c0c0; border-spacing:0px;\">\n\r<tr style=\"text-align:left;vertical-align:top;\">\n\r<td style=\"vertical-align:top; padding:0.4375rem; border:none\"><p class=\"p_Normal\"><span style=\"font-size: 0.82rem; font-family: Consolas;\"> &nbsp;  <\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">&lt;<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #a31515;\">Canvas<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #ff0000;\"> Name<\/span><span style=\"font-size: 0.82rem; font-family: Consolas; color: #0000ff;\">=&quot;mainCanvas&quot;&gt;<\/span><\/p>\n\r<\/td>\n\r<\/tr>\n\r<\/table>\n\r<\/div>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">The control has been given a light green background color, so that you can easily see where it is.<\/p>\n\r<p class=\"p_Normal\">&nbsp;<\/p>\n\r<p class=\"p_Normal\">Be aware that the control will now block the button of the main window from view. It is beyond the scope of these examples to teach you WPF in general, so we won\'t fix that here and now.<\/p>\n\r"
})
